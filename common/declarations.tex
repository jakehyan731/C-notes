\section{\IFRU{Объявления в Си/Си++}{C/C++ declarations}}
\subsection{Объявления переменных внутри ф-ции}

Раньше, в Си можно было объявлять переменные только в начале ф-ции. А в Си++ --- где угодно.

К тому же, нельзя было объявлять итератор в for() (а в Си++ также можно было):

\begin{lstlisting}
for(int i=0; i<10; i++)
	...
\end{lstlisting}

Новый стандарт C99\ref{C99} позволяет делать это.

\subsubsection{static}

Обычно глобальные переменные (или ф-ции) объявляются как static, так их область видимости ограничивается 
данным файлом. Но локальные переменные внутри ф-ции также можно объявлять как static, тогда эта переменная
будет не локальной, а глобальной, но её область видимости будет ограничена только этой ф-цией.

Например:

\begin{lstlisting}
void fn(...)
{
	for(int x=0; x<100; x++)
	{
		static int times_executed = 0;
		times_executed++;
	}
};
\end{lstlisting}

К примеру, это помогло бы для реализации strtok(), ведь этой ф-ции что-то нужно хранить у себя между вызовами.

\input{common/forward_declarations} % subsection

\subsection{C++11: auto}

Пользуясь \ac{STL}, иногда надоедает каждый раз объявлять тип итератора вроде:

\begin{lstlisting}
for (std::list<int>::iterator it=list.begin(); it!=list.end(); it++)
\end{lstlisting}

Тип it вполне можно получить из list.begin(), поэтому, в начиная со стандарта C++11, можно использовать auto:

\begin{lstlisting}
for (auto it=list.begin(); it!=list.end(); it++)
\end{lstlisting}

